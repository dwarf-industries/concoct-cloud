<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <title>Essential JS 1 : TreeGrid</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="utf-8" />
    <link href="../content/bootstrap.min.css" rel="stylesheet" />
    <link href="../content/ejthemes/default-theme/ej.web.all.min.css" rel="stylesheet" />
    <link href="../content/default.css" rel="stylesheet" />
    <link href="../content/default-responsive.css" rel="stylesheet" />
    <link href="../content/ejthemes/responsive-css/ej.responsive.css" rel="stylesheet" />
    <!--[if lt IE 9]>
     <script type="text/javascript" src="../scripts/jquery-1.11.3.min.js" ></script>
    <![endif]-->
    <!--[if gte IE 9]><!-->
    <script src="../scripts/jquery-3.3.1.min.js" type="text/javascript"> </script>
    <!--<![endif]-->
    <script src="../scripts/jsrender.min.js"></script>
    <script src="../scripts/ej.web.all.min.js" type="text/javascript"></script>
    <script src="../scripts/properties.js" type="text/javascript"></script>
    <script src="../scripts/jsontreegriddata.js"></script>

</head>

<body>
    <div class="content-container-fluid">
        <div class="row">
            <div class="cols-sample-area">
                <div id="TreeGridContainer" style="height:450px;width:100%"></div>
            </div>
        </div>
    </div>

    <script type="text/javascript">

        $(function () {
            var dateFormat = "{0:" + ej.preferredCulture()["calendars"]["standard"]["patterns"]["d"] + "}";
            $("#TreeGridContainer").ejTreeGrid({
                dataSource: headerData,
                childMapping: "subtasks",
                treeColumnIndex: 0,
                isResponsive: true,
                allowColumnResize: true,
                headerTextOverflow: "wrap",
                rowHeight: window.theme == "material" ? 48 : window.theme == "office-365" ? 36 : 30,
                load: function () {
                    if (window.theme == "material")
                        this.treeIndentLevelWidth = 16;
                },
                columns: [
                    { field: "taskName", editType: "stringedit", headerTemplateID: window.theme == "material" ? "#projectNamematerial" : window.theme == "office-365" ? "#projectName_365" : "#projectName" },
                    { field: "startDate", editType: "datepicker", headerTemplateID: window.theme == "material" ? "#dateTemplatematerial" : window.theme == "office-365" ? "#dateTemplate_365" : "#dateTemplate", format: dateFormat },
                    { field: "resourceId", editType: "dropdownedit", dropdownData: projectResources, editParams: { fields: { text: "resourceName", value: "resourceId" } }, headerTemplateID: window.theme == "material" ? "#resourcematerial" : window.theme == "office-365" ? "#resource_365" : "#resource" },
                    { field: "duration", editType: "numericedit", headerTemplateID: window.theme == "material" ? "#durationTemplatematerial" : window.theme == "office-365" ? "#durationTemplate_365" : "#durationTemplate" },
                    { field: "progress", editType: "numericedit", headerTemplateID: window.theme == "material" ? "#progressTemplatematerial" : window.theme == "office-365" ? "#progressTemplate_365" : "#progressTemplate" }
                ]
            })
        });

    </script>
    <script type="text/x-jsrender" id="resource">
        <div>
            <div>
                <img src="../content/images/treegrid/icon-03.png" width="20" height="20" />
            </div>
            <div style="position:relative; top:3px;">
                Resources
            </div>
        </div>
    </script>
    <script type="text/x-jsrender" id="progressTemplate">
        <div>
            <div>
                <img src="../content/images/treegrid/icon-05.png" width="20" height="20" />
            </div>
            <div style="position:relative; top:3px;">
                Progress
            </div>
        </div>
    </script>
    <script type="text/x-jsrender" id="projectName">
        <div>
            <div>
                <img src="../content/images/treegrid/icon-01.png" width="20" height="20" />
            </div>
            <div style="position:relative; top:3px;">
                Task Name
            </div>
        </div>
    </script>
    <script type="text/x-jsrender" id="dateTemplate">
        <div>
            <div>
                <img src="../content/images/treegrid/icon-04.png" width="20" height="20" />
            </div>
            <div style="position:relative; top:3px;">
                Start Date
            </div>
        </div>
    </script>
    <script type="text/x-jsrender" id="durationTemplate">
        <div>
            <div>
                <img src="../content/images/treegrid/icon-02.png" width="20" height="20" />
            </div>
            <div style="position:relative; top:2px;">
                Duration                
            </div>
        </div>
    </script>
    <script type="text/x-jsrender" id="resourcematerial">
        <div>
            <div>
                <img src="../content/images/treegrid/icon-03.png" width="20" height="20" />
            </div>
            <div style="position:relative; top:3px;padding-left:12px;">
                Resources
            </div>
        </div>
    </script>
    <script type="text/x-jsrender" id="progressTemplatematerial">
        <div>
            <div>
                <img src="../content/images/treegrid/icon-05.png" width="20" height="20" />
            </div>
            <div style="position:relative; top:3px;padding-left:12px;">
                Progress
            </div>
        </div>
    </script>
    <script type="text/x-jsrender" id="projectNamematerial">
        <div>
            <div>
                <img src="../content/images/treegrid/icon-01.png" width="20" height="20" />
            </div>
            <div style="position:relative; top:3px;padding-left:12px;">
                Task Name
            </div>
        </div>
    </script>
    <script type="text/x-jsrender" id="dateTemplatematerial">
        <div>
            <div>
                <img src="../content/images/treegrid/icon-04.png" width="20" height="20" />
            </div>
            <div style="position:relative; top:3px;padding-left:12px;">
                Start Date
            </div>
        </div>
    </script>
    <script type="text/x-jsrender" id="durationTemplatematerial">
        <div>
            <div>
                <img src="../content/images/treegrid/icon-02.png" width="20" height="20" />
            </div>
            <div style="position:relative; top:2px;padding-left:12px;">
                Duration
            </div>
        </div>
    </script>

    <script type="text/x-jsrender" id="resource_365">
        <div>
            <div class="image-container">
                <img src="../content/images/treegrid/icon-03.png" width="12" height="12" />
            </div>
            <div>
                Resources
            </div>
        </div>
    </script>
    <script type="text/x-jsrender" id="progressTemplate_365">
        <div>
            <div class="image-container">
                <img src="../content/images/treegrid/icon-05.png" width="12" height="12" />
            </div>
            <div>
                Progress
            </div>
        </div>
    </script>
    <script type="text/x-jsrender" id="projectName_365">
        <div>
            <div class="image-container">
                <img src="../content/images/treegrid/icon-01.png" width="12" height="12" />
            </div>
            <div>
                Task Name
            </div>
        </div>
    </script>
    <script type="text/x-jsrender" id="dateTemplate_365">
        <div>
            <div class="image-container">
                <img src="../content/images/treegrid/icon-04.png" width="12" height="12" />
            </div>
            <div>
                Start Date
            </div>
        </div>
    </script>
    <script type="text/x-jsrender" id="durationTemplate_365">
        <div>
            <div class="image-container">
                <img src="../content/images/treegrid/icon-02.png" width="12" height="12" />
            </div>
            <div>
                Duration
            </div>
        </div>
    </script>

    <style>
        .office-365 .image-container {
            margin-right: 8px;
        }
        .office-365 .image-container img{
            vertical-align:inherit;
        }
    </style>

</body>

</html>
